<?php defined('SYSPATH') OR die('No direct access allowed.');/** * Format Helper. * * $Id: format.php 1579 2012-08-13 06:54:36Z xuronghua $ * * @package    package_name * @author     UUTUU xu.ronghua * @copyright  (c) 2008-2010 UUTUU */class comment {	public static function add_guideloc_comment($guideloc,$suggestion=null)	{		$locationComment = new GuideLocationComment_Model();		$locationComment->id = ID_Factory::next_id($locationComment);		$locationComment->gid = $guideloc->gid;		$locationComment->lid = $guideloc->lid;		if(empty($suggestion))		{			$acc = Account::instance();			$acc->checklogin(false);			$user = $acc->user;			$locationComment->authorid = $user->uid;			$locationComment->authorname = $user->nickname;			$locationComment->comment = '添加了地点'.$guideloc->location->name;		}		else		{			$locationComment->authorid = $suggestion->uid;			$locationComment->authorname = $suggestion->nickname;			$locationComment->comment = '建议去'.$guideloc->location->name;		}		$locationComment->status = GuideLocationComment_Model::COMMENT_STATUS_NORMAL;		$locationComment->created = ORM_Core::get_time();		$locationComment->save();	}}